# –ü—Ä–∞–∫—Ç–∏–∫–∞ 8. –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å

## –ó–∞–¥–∞—á–∏

### –ó–∞–¥–∞—á–∞ 1 (2 –±–∞–ª–ª–∞)
–ü—É—Å—Ç—å $T$ (–∏–∑–º–µ—Ä—è–µ—Ç—Å—è –≤ RTT) –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä—ã–π TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç—Ä–∞—Ç–∏—Ç –Ω–∞
—É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å $\frac{W}{2}$ –¥–æ $W$, –≥–¥–µ $W$ ‚Äì —ç—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞
–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏. –î–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ $T$ ‚Äì —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç —Å—Ä–µ–¥–Ω–µ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ TCP.

#### –†–µ—à–µ–Ω–∏–µ
–°—Ä–µ–¥–Ω—è—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å $\ { B }$ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ:

$$\ B = 1.22 * MSS / (RTT * \sqrt{L}). $$

–ò–∑ —ç—Ç–æ–π —Ñ–æ—Ä–º—É–ª—ã –≤—ã–≤–µ–¥–µ–º —á–∞—Å—Ç–æ—Ç—É –ø–æ—Ç–µ—Ä—å $\ { L }$:

$$\ L = (1.22 * MSS / (RTT * B))^2. $$

–ò–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–∏ $\ { T }$ –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –∫–∞–∫:

$$\ T = (1 / L) * MSS / B = MSS / (B * L); $$

–ü–æ–¥—Å—Ç–∞–≤–∏–º –≤ —ç—Ç—É —Ñ–æ—Ä–º—É–ª—É –≤—ã–≤–µ–¥–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ $\ { L }$:

$$\ T = MSS / (B * (1.22 * MSS / (RTT * B))^2) = $$

$$\ = RTT^2 * B / (1.22^2 * MSS). $$

–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π —Ñ–æ—Ä–º—É–ª—ã, $\ { T }$ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π –æ—Ç —Å—Ä–µ–¥–Ω–µ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –¢–°–†, —á—Ç–æ –∏ —Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –¥–æ–∫–∞–∑–∞—Ç—å.

### –ó–∞–¥–∞—á–∞ 2 (3 –±–∞–ª–ª–∞)
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∑–∞–¥–µ—Ä–∂–∫—É, –ø–æ–ª—É—á–µ–Ω–Ω—É—é –≤ —Ñ–∞–∑–µ –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ TCP. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–ª–∏–µ–Ω—Ç –∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä, –Ω–∞–ø—Ä—è–º—É—é —Å–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –æ–¥–Ω–∏–º –∫–∞–Ω–∞–ª–æ–º —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö $R$.
–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –∫–ª–∏–µ–Ω—Ç —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –æ–±—ä–µ–∫—Ç, —Ä–∞–∑–º–µ—Ä –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç–æ—á–Ω–æ —Ä–∞–≤–µ–Ω $15 \cdot S$,
–≥–¥–µ $S$ ‚Äì —ç—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Å–µ–≥–º–µ–Ω—Ç–∞.
–ò–≥–Ω–æ—Ä–∏—Ä—É—è –∑–∞–≥–æ–ª–æ–≤–∫–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –≤—Ä–µ–º—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ (–æ–±—â–µ–µ –≤—Ä–µ–º—è
–∑–∞–¥–µ—Ä–∂–∫–∏), –≤–∫–ª—é—á–∞—è –≤—Ä–µ–º—è –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ RTT - –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞), –µ—Å–ª–∏:
1. $\dfrac{4S}{R} > \dfrac{S}{R} + RTT > \dfrac{2S}{R}$
2. $\dfrac{ùëÜ}{ùëÖ} + ùëÖùëáùëá > \dfrac{4ùëÜ}{ùëÖ}$
3. $\dfrac{ùëÜ}{ùëÖ} > ùëÖùëáùëá$

#### –†–µ—à–µ–Ω–∏–µ
a. –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–≤–∞ $\ { RTT }$. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ, –æ–±—â–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –±—É–¥–µ—Ç —Ä–∞–≤–Ω–∞:

$$\ d = 2 * (S / R + RTT) + (4 + 8) * S / R + 2 * RTT = $$

$$\ = 2 * (S / R + RTT) + 12 * S / R + 2 * RTT = $$

$$\ = 4 * RTT + 14 * S / R; $$

–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –≤—Ä–µ–º—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ —Å–æ—Å—Ç–∞–≤–∏—Ç: $\ 4 * RTT + 14 * S / R $.

–±. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è $\ { 2 * RTT }$. –¢–æ–≥–¥–∞ –∑–∞–¥–µ—Ä–∂–∫–∞:

$$\ d = 3 * (S / R + RTT) + 8 * S / R + 2 * RTT = $$

$$\ = 5 * RTT + 11 * S / R; $$

–í—Ä–µ–º—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ —Å–æ—Å—Ç–∞–≤–∏—Ç: $\ 5 * RTT + 11 * S / R $.

–≤. –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è $\ { 2 * RTT }$. –¢–æ–≥–¥–∞ –∑–∞–¥–µ—Ä–∂–∫–∞:

$$\ d = (S / R + RTT) + (8 + 4 + 2) * S / R + 2 * RTT = $$

$$\ = (S / R + RTT) + 14 * S / R + 2 * RTT =  $$

$$\ = 3 * RTT + 15 * S / R; $$

–í—Ä–µ–º—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ —Å–æ—Å—Ç–∞–≤–∏—Ç: $\ 3 * RTT + 15 * S / R $.


### –ó–∞–¥–∞—á–∞ 3 (2 –±–∞–ª–ª–∞)
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ TCP. –í–º–µ—Å—Ç–æ
–∞–¥–¥–∏—Ç–∏–≤–Ω–æ–≥–æ —É–≤–µ–ª–∏—á–µ–Ω–∏—è, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–∏–≤–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ. TCP-–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä —Å–≤–æ–µ–≥–æ –æ–∫–Ω–∞ –≤ $(1 + a)$ —Ä–∞–∑ (–≥–¥–µ $a$ - –Ω–µ–±–æ–ª—å—à–∞—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è
–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞: $0 < a < 1$), –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞–µ—Ç –≤–µ—Ä–Ω—ã–π ACK-–ø–∞–∫–µ—Ç.
–ù–∞–π–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É —á–∞—Å—Ç–æ—Ç–æ–π –ø–æ—Ç–µ—Ä—å $L$ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º –æ–∫–Ω–∞
–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ $W$. –£—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è, —á—Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ TCP, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å—Ä–µ–¥–Ω–µ–π
–ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤—Å–µ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è
—É–≤–µ–ª–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å $\frac{W}{2}$ –¥–æ $W$.

#### –†–µ—à–µ–Ω–∏–µ
–í –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞—è —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –≤ $\ { (1 + a) }$ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–Ω—è—Ç–æ–≥–æ ACK-–ø–∞–∫–µ—Ç–∞. –ó–Ω–∞—á–∏—Ç –ø–æ—Å–ª–µ –ø–æ–ª—É—á–∞–µ–Ω–∏—è $\ { n }$ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å—Ç–∞–Ω–µ—Ç $\ W * (1 + a)^n $.

–í—Ä–µ–º—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –æ–∫–Ω–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Å $\ { W / 2 }$ –¥–æ $\ { W }$ –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –∫–∞–∫:

$$\ W = (W / 2) * (1 + a)^n. $$

–†–µ—à–∞—è —É—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ $\ { n }$ –ø–æ–ª—É—á–∏–º:

$$\ n = log_2{(1 + a)}. $$

–≠—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –≤–µ–ª–∏—á–∏—á–Ω–æ–π –∏ –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç $\ { a }$.

–¢–∞–∫ –∫–∞–∫ –≤—Ä–µ–º—è –æ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–≤–µ–Ω RTT, —Ç–æ –≤—Ä–µ–º—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Ç–∞–∫–∂–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ RTT. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –≤—Ä–µ–º—è —Ç–∞–∫–∂–µ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ä–µ–¥–Ω–µ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ TCP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

–¢–µ–ø–µ—Ä—å –Ω–∞–π–¥–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É —á–∞—Å—Ç–æ–π –ø–æ—Ç–µ—Ä—å $\ { L }$ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ $\ { W }$. –í –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –ø—Ä–µ–≥—Ä—É–∑–∫–∏ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –≤–¥–≤–æ–µ –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–µ—Ä—è –ø–∞–∫–µ—Ç–∞. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Å—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞:

$$\ W_{—Å—Ä} = (W + W / 2) / 2. $$

–ß–∞—Å—Ç–æ—Ç–∞ –ø–æ—Ç–µ—Ä—å - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –≤ –µ–¥–∏–Ω–∏—Ü—É –≤—Ä–µ–º–µ–Ω–∏:

$$\ L = 1 / (W_{—Å—Ä} * RTT) = 1 / ((W + W / 2) / 2 * RTT) = $$

$$\ = 2 / (3 * W * RTT). $$

–ò–∑ —É—Ä–∞–≤–Ω–µ–Ω–∏—è –≤–∏–¥–Ω–æ, —á—Ç–æ —á–∞—Å—Ç–æ—Ç–∞ –ø–æ—Ç–µ—Ä—å –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É —Ä–∞–∑–º–µ—Ä—É –æ–∫–Ω–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –∏ RTT.